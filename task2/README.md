# Задание 2

## Условие

В SQL безе данных есть продукты и категории. Одному продукту может соответствовать много категорий, в одной категории может быть много продуктов.
Напишите HTTP API через которое можно получить:
- список всех продуктов с их категориями, 
- список категорий с продуктами,
- список всех пар Имя продукта - Имя категории. 

Если у продукта нет категорий, то он все равно должен выводиться. 

Если у категории нет продуктов, то она все равно должна выводиться. 

Проект должен содержать docker-compose файл, через который можно запустить сервис и проверить его работу.

Дополнительно оценим покрытие коде юнит-тестами.

## Решение

HTTP API реализовано на языке Python с помощью библиотек FastAPI, SQLAlchemy, pytest. В качестве базы данных используется Postgresql.

Система состоит из двух докер контейнеров - `db` и `api`. В контейнере `db` запускается Postgres, в `api` - само API на Python.

### Запуск

Для запуска системы необходимо выполнить команду 
```
docker-compose up -d api
```
в директории `task2`. После этого API будет доступно по адресу [http://localhost:5000](http://localhost:5000).

Для запуска юнит тестов необходимо выполнить команду
```
docker-compose up -d test-api
```
в директории `task2`. После этого тесты будут запущены и результаты будут выведены в консоль. 

Для остановки системы необходимо выполнить команду
```
docker-compose down
```

### API

Три метода, требуемые в задании, реализованы в виде трех `GET` запросов:

- `/products/` - возвращает список всех продуктов с их категориями
- `/categories/` - возвращает список категорий с продуктами
- `/associations/` - возвращает список всех пар (Имя продукта - Имя категории)

Кроме них, возможны еще и `POST` запросы по этим же путям, которые позволяют добавлять новые продукты, категории и ассоциации. Более подробная документация доступна в FastAPI Swagger UI по адресу [http://localhost:5000/docs](http://localhost:5000/docs).